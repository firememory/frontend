# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

GET     /                           controllers.MainController.index()
GET     /trade                      controllers.MainController.trade()
GET     /market                     controllers.MainController.market()
GET     /account                    controllers.MainController.account()
GET     /user/*uid                  controllers.MainController.user(uid)
GET     /register                   controllers.MainController.register()
GET     /login                      controllers.MainController.login(showVerifiedMsg: Boolean ?= false)
GET     /open                       controllers.MainController.open()
GET     /transaction/*tid           controllers.MainController.transaction(tid)
GET     /transactions/*market       controllers.MainController.transactions(market)
GET     /order/*oid                 controllers.MainController.order(oid)

GET     /account/logout             controllers.UserController.logout()
POST    /account/login              controllers.UserController.login()
POST    /account/register           controllers.UserController.register()
POST    /account/settings           controllers.UserController.updateSettings()
GET     /account/registersucceeded    controllers.UserController.registerSucceeded()
GET     /account/verifyemailfailed    controllers.UserController.verifyEmailFailed()

GET     /verification/:token        controllers.UserController.verifyEmail(token)

GET     /captcha                    controllers.CaptchaController.captcha()
POST    /smsverification            controllers.SmsController.sendVerifySms()

POST    /trade/*market/bid                 controllers.ApiController.submitOrder(market)
POST    /trade/*market/ask                 controllers.ApiController.submitOrder(market)
GET     /trade/*market/order/cancel/*oid   controllers.ApiController.cancelOrder(market, oid)
POST    /account/deposit                   controllers.ApiController.deposit()
POST    /account/withdrawal                controllers.ApiController.withdrawal()

# html pieces
GET     /views/bidask.html          controllers.MainController.bidaskView()
GET     /views/register.html        controllers.MainController.registerView()

# API routes
GET     /api/*market/depth          controllers.ApiController.depth(market)
GET     /api/ticker/*market         controllers.ApiController.ticker(market)
GET     /api/ticker                 controllers.ApiController.tickers()
GET     /api/*market/order          controllers.ApiController.getUserOrders(market)
GET     /api/order/*oid             controllers.ApiController.getOrder(oid)
GET     /api/account/*uid           controllers.ApiController.account(uid)
GET     /api/asset/*uid             controllers.ApiController.asset(uid)
GET     /api/*market/history                controllers.ApiController.history(market)
GET     /api/user/*uid/transaction/*market  controllers.ApiController.userTransaction(market, uid)
GET     /api/*market/transaction            controllers.ApiController.transactions(market)
GET     /api/*market/transaction/*tid       controllers.ApiController.transaction(market, tid)
GET     /api/*market/order/*oid/transaction   controllers.ApiController.orderTransaction(market, oid)
GET     /api/*currency/transfer/*uid      controllers.ApiController.transfers(currency, uid)
GET     /api/open/data/*type       controllers.MainController.listFilesFromHdfs(type)

# Notifications
GET     /notifications              controllers.MainController.getNotifications()

GET     /download/*path/*file                 controllers.MainController.downloadFromHdfs(path, file)
GET     /api/*file                  controllers.Assets.at(path="/public/data", file)

# Default path to /public
GET     /*file                  controllers.Assets.at(path="/public", file)
