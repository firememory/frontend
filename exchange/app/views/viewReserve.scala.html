@()(implicit lang: Lang)
@import utils.Constant._
<section class="content-3">
@if(lang.code=="zh-CN") {
    <div>
        <div class="container">
            <div class="row">
                <div class="col-sm-6 aligment">
                    <h3>准备金和准备金率</h3>
                    <p>
                        <b>准备金</b>是平台预先存放在一个公用账户中，用于支付用户提现的资金。
                        如果准备金小于用户账面总余额，就说明平台处于亏损状态，或者平台挪用了用户托管的一部分资产用于牟利。
                        这种情况下，平台无法满足全部用户的提现请求。
                    </p>
                    <p>
                        <alert>
                            <b>准备金率 = 准备金总额 / 用户账面总余额 x 100%</b>
                            <br>例如，全部用户资产加起来为100BTC，平台冷热钱包中可支付的余额为90BTC，准备金率就是90%。
                        </alert>

                        通过下表提供的实时准备金率数据，您可以随时了解平台的准备金情况。
                    </p>
                </div>
                <div class="col-sm-6 aligment">
                    <h3>准备金证明</h3>
                    <p>
                        <b>准备金证明</b>也叫<b>偿付能力证明</b>。
                        <br>
                        根据准备金率的计算公式，我们分别需要证明平台准备金总额（分子）和用户账面总余额（分母）确实为我们所公布的数字。
                    </p>
                    <div class="row">
                        <alert>
                            <b>准备金总额证明</b><br>
                            您可以查看平台全部冷热钱包地址的列表以及每一个钱包的余额，这些余额加起来应该等于准备金总额。
                            通过“消息签名”机制，可以证明这里所列出的钱包都是我们可以支配的。
                            <br>
                            <b>用户账面总余额证明</b><br>
                            您可以下载平台全部用户资产数据，每个用户都可以检查数据中自己所对应的条目是否准确。
                            将其中每一个用户账面余额加总后，可以算得用户账面总余额。
                        </alert>
                    </div>
                </div>
            </div>
        </div>

    </div>
} else {
<!--TODO: English version-->
}
    <div>
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                        <tr>
                            <th nowrap>@Messages("open.coinType")</th>
                            <th nowrap class="text-right">@Messages("user.available")</th>
                            <th nowrap class="text-right">@Messages("user.orderPending")</th>
                            <th nowrap class="text-right">@Messages("user.withdrawalPending")</th>
                            <th nowrap class="text-right">@Messages("open.reserve.account")</th>
                            <th nowrap class="text-right">@Messages("open.reserve.balance")</th>
                            <th nowrap class="text-right">@Messages("open.reserve.ratio")</th>
                        </tr>
                        </thead>
                        <tbody>
                        @for(coin <- coins) {
                        <tr ng-init="getWallets('@coin')">
                            <td nowrap><strong><a href="/coin/@coin">@coin</a></strong></td>
                            <td nowrap class="text-right"><span ng-bind="accounts['@coin'].available.display + ' @coin'"></span></td>
                            <td nowrap class="text-right"><span ng-bind="accounts['@coin'].locked.display + ' @coin'"></span></td>
                            <td nowrap class="text-right"><span ng-bind="accounts['@coin'].pendingWithdrawal.display + ' @coin'"></span></td>
                            <td nowrap class="text-right"><b ng-bind="accounts['@coin'].total.display + ' @coin'"></b></td>
                            <td nowrap class="text-right"><b ng-bind="walletsBalance['@coin'].display + ' @coin'"></b></td>
                            <td nowrap class="text-right">
                                <span ng-show="walletsBalance['@coin']" class="{{walletsBalance['@coin'].value / accounts['@coin'].total.value  || 0 | reserveRatioClass}}">
                                    {{((walletsBalance['@coin'].value) * 100 / accounts['@coin'].total.value || 0).toFixed(2)}}%
                                </span>
                            </td>
                        </tr>
                        }
                        </tbody>
                    </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="delimiter">&nbsp;</div>

    <div>
        <div class="container">
            <div class="row">
                <div class="col-sm-12">
                    <h3>@Messages("open.network.title")</h3>
@if(lang.code=="zh-CN") {
                    <p>
                        这里展示的是平台与虚拟币网络的连接情况。<br>
                        根据最后一次同步虚拟币网络数据的时间到当前的时间之间的间隔，可以判断上面提供的准备金数据是否实时，以及用户的充值提现请求能否被系统及时处理。
                        <alert>
                            <b>@Messages("open.network.status"):</b><br>
                            <span class="{{0 | networkStatusClass}}" ng-bind="0 | networkStatusText"></span> &nbsp;&nbsp;延迟时间小于30分钟<br>
                            <span class="{{30 * 60 * 1000 | networkStatusClass}}" ng-bind="30 * 60 * 1000 | networkStatusText"></span> &nbsp;&nbsp;延迟时间大于等于30分钟，小于60分钟<br>
                            <span class="{{60 * 60 * 1000 | networkStatusClass}}" ng-bind="60 * 60 * 1000 | networkStatusText"></span> &nbsp;&nbsp;延迟时间大于等于60分钟<br>
                        </alert>
                    </p>
} else {
<!--TODO: English version-->
}
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12">
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                            <tr>
                                <th>@Messages("open.coinType")</th>
                                <th>@Messages("open.network.lastactive")</th>
                                <th>@Messages("open.network.delayed")</th>
                                <th>@Messages("open.network.height")</th>
                                <th>@Messages("open.network.lastblock")</th>
                                <th class="text-right">@Messages("open.network.status")</th>
                            </tr>
                            </thead>
                            <tbody>
                            @for(coin <- coins) {
                            <tr ng-init="getNetworkStatus('@coin')">
                                <td nowrap><strong><a href="/coin/@coin">@coin</a></strong></td>
                                <td>{{status['@coin'].timestamp <= 0 ? '@Messages("open.network.neverseen")' : status['@coin'].timestamp | date:'MM-dd HH:mm:ss'}}</td>
                                <td>{{status['@coin'].delay | networkDelay}} @Messages("open.network.minutes")</td>
                                <td>{{status['@coin'].height}}</td>
                                <td><a target="_blank" href="{{blockUrl['@coin']}}{{status['@coin'].block}}">@Messages("open.network.checkNow")<i class="fa fa-external-link"></i></a></td>
                                <td class="text-right"><span ng-show="status['@coin']" class="{{status['@coin'].delay | networkStatusClass}}">{{status['@coin'].delay | networkStatusText}}</span></td>
                            </tr>
                            }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>