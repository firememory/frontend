@(index: String = "", includeSiteNotification: Boolean = true)(implicit session: Session, lang: Lang)
@import utils.Constant._

@if(includeSiteNotification) {
    @__site_notification()
}

@isLogin() = @{session.get("uid").isDefined}
@username = @{session.get("username").getOrElse("")}

@menu(route: String, link: String, title: String, noLoginNeeded: Boolean = true, hide: Boolean = false) = {
    @if(noLoginNeeded || session.get("uid").isDefined) {
    <li @if(index==route){class="active"}> <a href=@link>@title</a> </li>
    }
}

<header class="header-3">
    <div class="container">
        <div class="row">
            <nav class="navbar col-sm-12" role="navigation">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle"></button>
                    <a class="brand" href="/"><img src="/image/logo.png" width="50" height="50" alt="">@Messages("nav.brand")<sup>private-beta</sup></a>
                </div>

                <div class="nav pull-left">
                    <select class="nav-lang-select" onchange="if (this.value) window.location.href=this.value">
                        <option @if(lang.code == "en-US") {selected="selected"} value="/changelocale/en-US">English</option>
                        <option @if(lang.code == "zh-CN") {selected="selected"} value="/changelocale/zh-CN">简体中文</option>
                    </select>
                    <!-- <ul class="nav-lang-vertical">
                    <li><a href="/changelocale/en-US">English</a></li>
                    <li><a href="/changelocale/zh-CN">简体中文</a></li>
                    </ul> -->
                </div>


                <div class="collapse navbar-collapse pull-right">
                    @if(isLogin()) {
                    <ul class="nav pull-left">
                        <li><a href="/account" class="log-out-in"><i class="fa fa-user"></i> @username</a></li>
                        <li><a href="/account/logout" class="log-out-in">@Messages("nav.logout")</a></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                    </ul>
                    }
                    <ul class="nav pull-left">
                        @menu("trade", "/trade", Messages("nav.trade"))
                        @menu("account", "/account", Messages("nav.account"), false)
                        @menu("openness", "/open", Messages("nav.open"))
                    @if(!isLogin()) {
                        <li @if(index=="login"){class="active"}> <a href="/login" class="log-out-in">@Messages("nav.login")</a> </li>
                    }
                    </ul>
                    @if(!isLogin()) {
                     <form class="navbar-form pull-left">
                        <a class="btn btn-danger" href="/register">@Messages("nav.register")</a>
                    </form>
                    }
                </div>

            </nav>
        </div>
    </div>
    <div class="header-background"></div>
</header>
