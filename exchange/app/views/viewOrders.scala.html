@()(implicit lang: Lang)
@import utils.Constant._

<h2>@Messages("order.myOrders")</h2>
<h5>
filter by market
<select ng-model="market" ng-change="changeMarket()">
    <option value="all">All</option>
    @for(market <- markets) {
    <option>@market</option>
    }
</select>
</h5>
<div class="row">&nbsp;</div>
<div class="row">
    <table class="table table-striped table-user-order">
        <thead>
        <tr>
            <th>@(Messages("order.oid"))</th>
            <th>@(Messages("order.time"))</th>
            <th>@(Messages("order.type"))</th>
            <th>@(Messages("order.price"))</th>
            <th>@(Messages("order.amount"))</th>
            <th>@(Messages("order.finishedAmount"))</th>
            <th>@(Messages("order.total"))</th>
            <th>@(Messages("order.finishedTotal"))</th>
            <th>@(Messages("order.status"))</th>
        </tr>
        </thead>
        <tbody>
        <tr  ng-repeat="order in orders.items | orderBy: ['-date', '-tid']" class="">
            <td>
                <a href="/order/{{order.id}}">{{order.id}}</a>
            </td>
            <td>
                {{order.submitTime | date:"MM-dd HH:mm:ss"}}
            </td>
            <td class="{{order.operation | orderTypeClass}}">
                {{order.operation | orderTypeText}}
            </td>
            <td class="{{order.operation | orderTypeClass}}">
                {{order.price | price}} {{order.currency}}
            </td>
            <td>
                {{order.amount | coin}} {{order.subject}}
            </td>
            <td>
                {{order.finishedQuantity | coin}} {{order.subject}}
            </td>
            <td>
                {{order.total | coin}} {{order.currency}}
            </td>
            <td>
                {{order.finishedAmount | coin}} {{order.currency}}
            </td>
            <td>
                <span class="badge badge-{{order.status | orderStatusClass}}">{{order.status | orderStatusText}}</span>
            </td>
        </tr>
        </tbody>
    </table>
    <pagination boundary-links="true" items-per-page="limit" total-items="orders.count" ng-model="page" class="pagination-sm" ng-change="reload()" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination>
</div>
