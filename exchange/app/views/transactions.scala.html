@(market: String)(implicit session: Session)
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>coinport</title>
    @imports()
    <script src="/js/transactions.js"></script>
</head>

<body ng-app="coinport.transactions">
@navbar(4)
<div class="container" ng-controller="TransCtrl">
    <div id="main-content">
        <div class="row">
            <div class="col-md-6">
                <h4>@market</h4>
            </div>
        </div>
        <div class="row">
            <table class="table">
                <thead>
                <tr>
                    <th>TID</th>
                    <th>成交时间</th>
                    <th>成交价</th>
                    <th>成交量</th>
                    <th>总金额</th>
                    <th>交易发起用户</th>
                    <th>交易类型</th>
                    <th>挂单用户</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="transaction in transactions">
                    <td><a href="/transaction/{{transaction.id}}" class="title"><i class="fa fa-list-alt"></i> {{transaction.id}}</a></td>
                    <td><i class="fa fa-clock-o"></i> {{transaction.timestamp | date:"yyyy-MM-dd HH:mm:ss"}}</td>
                    <td>{{transaction.price.display_short}} {{transaction.price.currency}}</td>
                    <td>{{transaction.subjectAmount.display_short}} {{transaction.subjectAmount.currency}}</td>
                    <td>{{transaction.currencyAmount.display_short}} {{transaction.currencyAmount.currency}}</td>
                    <td><a href="/user/{{transaction.taker}}" class="title"><i class="fa fa-user"></i> {{uid==transaction.taker ? '我' : (transaction.taker)}}</a></td>
                    <td class="{{transaction.sell | txTypeClass}}">{{transaction.sell | txTypeText}} <i class="fa fa-lg {{transaction.sell | txTypeIcon}}"></i></td>
                    <td><a href="/user/{{transaction.maker}}" class="title"><i class="fa fa-user"></i> {{uid==transaction.maker ? '我' : (transaction.maker)}}</a></td>
                </tr>
                </tbody>
            </table>
            <pagination boundary-links="true" total-items="count" ng-model="page" class="pagination-sm" ng-change="loadTransactions()" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination>
        </div>
    </div>
</div>
@footer()
</body>
</html>