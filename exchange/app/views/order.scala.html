@(oid: String)(implicit session: Session, lang: Lang)
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>coinport</title>
    @imports()
    <script src="/js/order.js"></script>
</head>

<body ng-app="coinport.order">
@navbar(4)
<div class="container" id="main-container" ng-controller="OrderCtrl">
    <div id="main-content">
        <div class="row">
            <div class="col-md-6">
                <h4>@Messages("order.oid"): @oid</h4>
                <h4>@Messages("order.uid"): <a href="/user/{{order.uid}}" class="title">{{order.uid}}</a></h4>
            </div>
            <table class="table">
                <thead>
                <tr>
                    <th></th><th></th><th></th><th></th><th></th><th></th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>@Messages("order.submitTime")</td>
                    <td>{{order.submitTime | date:"yyyy-MM-dd HH:mm:ss"}}</td>
                    <td>@Messages("order.type")</td>
                    <td><span class="{{order.operation.toLowerCase()}}">{{order.operation | orderTypeText}}</span></td>
                    <td>@Messages("order.status")</td>
                    <td><span>{{order.status | orderStatusText}}</span></td>
                </tr>
                <tr>
                    <td>@Messages("order.baseCurrency")</td>
                    <td>{{order.subject}}</td>
                    <td>@Messages("order.targetCurrency")</td>
                    <td>{{order.currency}}</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>@Messages("order.orderPrice")</td>
                    <td>{{order.price | price}} {{order.currency}}/{{order.subject}}</td>
                    <td>@Messages("order.averagePrice")</td>
                    <td>{{order.finishedAmount / order.finishedQuantity | price}} {{order.currency}}/{{order.subject}}</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>@Messages("order.orderAmount")</td>
                    <td>{{order.amount | coin}} {{order.subject}}</td>
                    <td>@Messages("order.tradingAmount")</td>
                    <td>{{order.finishedQuantity | coin}} {{order.subject}}</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>@Messages("order.orderValue")</td>
                    <td>{{order.total | coin}}  {{order.currency}}</td>
                    <td>@Messages("order.tradingValue")</td>
                    <td>{{order.finishedAmount | coin}}  {{order.currency}}</td>
                    <td></td>
                    <td></td>
               </tr>
               </tbody>
            </table>
        </div>

        <div class="row">
            <h4>@Messages("order.transactions")</h4>
            <table class="table">
                <thead>
                <tr>
                    <th>@Messages("transaction.tid")</th>
                    <th>@Messages("transaction.timestamp")</th>
                    <th>@Messages("transaction.price")</th>
                    <th>@Messages("transaction.amount")</th>
                    <th>@Messages("transaction.value")</th>
                    <th>@Messages("transaction.taker")</th>
                    <th>@Messages("transaction.type")</th>
                    <th>@Messages("transaction.maker")</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="item in transactions.items">
                    <td><a href="/transaction/{{item.id}}" class="title"><i class="fa fa-retweet"></i> {{item.id}}</a></td>
                    <td><i class="fa fa-clock-o"></i> {{item.timestamp | date:"yyyy-MM-dd HH:mm:ss"}}</td>
                    <td>{{item.price.value | price}} {{item.price.currency}}</td>
                    <td>{{item.subjectAmount.value | coin}} {{item.subjectAmount.currency}}</td>
                    <td>{{item.currencyAmount.value | coin}} {{item.currencyAmount.currency}}</td>
                    <td><a href="/user/{{item.taker}}" class="title"><i class="fa fa-user"></i> {{uid==item.taker ? '我' : (item.taker)}}</a></td>
                    <td class="{{item.sell | txTypeClass}}">{{item.sell | txTypeText}} <i class="fa fa-lg {{item.sell | txTypeIcon}}"></i></td>
                    <td><a href="/user/{{item.maker}}" class="title"><i class="fa fa-user"></i> {{uid==item.maker ? '我' : (item.maker)}}</a></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
@footer()
</body>
</html>
