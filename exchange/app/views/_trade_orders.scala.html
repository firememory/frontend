 @()(implicit lang: Lang)

<div class="recent-orders">
    <h4>My Orders</h4>

    <div class="box">
        <tabset>
            <tab heading='@(Messages("all"))' select="changeOrderStatus(-1)"></tab>
            <tab heading='@(Messages("order.status.pending"))' select="changeOrderStatus(0)"></tab>
            <tab heading='@(Messages("order.status.open"))' select="changeOrderStatus(1)"></tab>
            <tab heading='@(Messages("order.status.finished"))' select="changeOrderStatus(2)"></tab>
            <tab heading='@(Messages("order.status.cancelled"))' select="changeOrderStatus(3)"></tab>
        </tabset>
        <div class="user-order-box">
            <div class="table-responsive">
            <table class="table table-striped table-hover">
                <thead>
                <tr>
                    <th nowrap>@(Messages("order.oid"))</th>
                    <th nowrap>@(Messages("order.time"))</th>
                    <th nowrap>@(Messages("order.type"))</th>
                    <th nowrap class="text-right">@(Messages("order.price"))</th>
                    <th nowrap class="text-right">@(Messages("order.amount"))</th>
                    <th nowrap class="text-right">@(Messages("order.finishedAmount"))</th>
                    <th nowrap class="text-right">@(Messages("order.total"))</th>
                    <th nowrap class="text-right">@(Messages("order.finishedTotal"))</th>
                    <th nowrap>@(Messages("order.status"))</th>
                    <th nowrap>@(Messages("order.operation"))</th>
                </tr>
                </thead>
                <tbody>
                <tr  ng-repeat="order in orders | orderBy: ['-date', '-id']" class="user-order-item">
                    <td nowrap class="l"> <a href="/order/{{order.id}}">{{order.id}}</a> </td>
                    <td nowrap> {{order.submitTime | date:"MM-dd HH:mm:ss"}} </td>
                    <td nowrap class="{{order.operation | orderTypeClass}}"> {{order.operation | orderTypeText}} </td>
                    <td nowrap class="text-right {{order.operation | orderTypeClass}}"> {{order.price.display}} </td>
                    <td nowrap class="text-right"> {{order.amount.display}} </td>
                    <td nowrap class="text-right"> {{order.finishedQuantity.display}} </td>
                    <td nowrap class="text-right"> {{order.total.display}} </td>
                    <td nowrap class="text-right"> {{order.finishedAmount.display}} </td>
                    <td nowrap> <span class="badge text-white bg-{{order.status | orderStatusClass}}">{{order.status | orderStatusText}}</span> </td>
                    <td nowrap> <a ng-show="order.status <= 1" href="" ng-click="cancelOrder(order.id)">@(Messages("trade.cancel"))</a> </td>
                </tr>
                </tbody>
            </table>
            </div>
        </div> <!-- user-order-box-->
        @__see_more("/account#/orders")
    </div>
</div>
