 @()(implicit lang: Lang)

<div class="recent-orders">
    <h3>My Orders</h3>
    <tabset>
        <tab heading='@(Messages("all"))' select="changeOrderStatus(-1)"></tab>
        <tab heading='@(Messages("order.status.pending"))' select="changeOrderStatus(0)"></tab>
        <tab heading='@(Messages("order.status.open"))' select="changeOrderStatus(1)"></tab>
        <tab heading='@(Messages("order.status.finished"))' select="changeOrderStatus(2)"></tab>
        <tab heading='@(Messages("order.status.cancelled"))' select="changeOrderStatus(3)"></tab>
    </tabset>
    <div class="user-order-box">
        <table class="table table-striped table-responsive">
            <thead>
            <tr>
                <th>@(Messages("order.oid"))</th>
                <th>@(Messages("order.time"))</th>
                <th>@(Messages("order.type"))</th>
                <th>@(Messages("order.price"))</th>
                <th>@(Messages("order.amount"))</th>
                <th>@(Messages("order.finishedAmount"))</th>
                <th>@(Messages("order.total"))</th>
                <th>@(Messages("order.finishedTotal"))</th>
                <th>@(Messages("order.status"))</th>
                <th>@(Messages("order.operation"))</th>
            </tr>
            </thead>
            <tbody>
            <tr  ng-repeat="order in orders | orderBy: ['-date', '-id']" class="user-order-item">
                <td class="l">
                    <a href="/order/{{order.id}}">{{order.id}}</a>
                </td>
                <td>
                    {{order.submitTime | date:"MM-dd HH:mm:ss"}}
                </td>
                <td class="{{order.operation | orderTypeClass}}">
                    {{order.operation | orderTypeText}}
                </td>
                <td class="{{order.operation | orderTypeClass}}">
                    {{order.price | price}}
                </td>
                <td>
                    {{order.amount | coin}}
                </td>
                <td>
                    {{order.finishedQuantity | coin}}
                </td>
                <td>
                    {{order.total | coin}}
                </td>
                <td>
                    {{order.finishedAmount | coin}}
                </td>
                <td>
                    <span class="badge badge-{{order.status | orderStatusClass}}">{{order.status | orderStatusText}}</span>
                </td>
                <td>
                    <button class="btn-link" ng-show="order.status <= 1" ng-click="cancelOrder(order.id)">@(Messages("trade.cancel"))</button>
                </td>
            </tr>
            </tbody>
        </table>
        <a style="float: right;" href="/account#/orders">@(Messages("more")) >></a>
    </div> <!-- user-order-box-->
</div>
